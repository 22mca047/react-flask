{"ast":null,"code":"import React from\"react\";import{Form,Button}from\"react-bootstrap\";import{Link,useNavigate}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import{login}from\"../auth\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{var _errors$username,_errors$password;const navigate=useNavigate();const{register,reset,handleSubmit,formState:{errors}}=useForm();const loginUser=data=>{const requestData={\"method\":\"POST\",\"headers\":{\"Content-Type\":\"application/json\"},\"body\":JSON.stringify(data)};fetch('/auth/login',requestData).then(response=>response.json()).then(data=>{console.log(data.access_token);login(data.access_token);navigate('/');}).catch(error=>console.error('Error:',error));reset();};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login Page\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Your Username\",...register(\"username\",{required:true,maxLength:25})}),errors.username&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(\"small\",{children:\"Username is required\"})}),((_errors$username=errors.username)===null||_errors$username===void 0?void 0:_errors$username.type)===\"maxLength\"&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(\"small\",{children:\"Characters should be 25\"})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Your Password\",...register(\"password\",{required:true,minLength:8})}),errors.password&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(\"small\",{children:\"Password is required\"})}),((_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.type)===\"minLength\"&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(\"small\",{children:\"Character should be 8\"})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Button,{as:\"sub\",variant:\"primary\",onClick:handleSubmit(loginUser),children:\"Login\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsxs(\"small\",{children:[\"Do Not have an Account \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Signup\"})]})})]})]})});};export default LoginPage;","map":{"version":3,"names":["React","Form","Button","Link","useNavigate","useForm","login","jsx","_jsx","jsxs","_jsxs","LoginPage","_errors$username","_errors$password","navigate","register","reset","handleSubmit","formState","errors","loginUser","data","requestData","JSON","stringify","fetch","then","response","json","console","log","access_token","catch","error","className","children","Group","Label","Control","type","placeholder","required","maxLength","username","style","color","minLength","password","as","variant","onClick","to"],"sources":["C:/Users/Hitesh/OneDrive/Desktop/React-Flask/client/src/components/Login.js"],"sourcesContent":["import React from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { login } from \"../auth\";\r\n\r\nconst LoginPage = () => {\r\n    \r\n    const navigate = useNavigate();\r\n    const { register, reset, handleSubmit, formState: { errors } } = useForm()\r\n\r\n    const loginUser = (data) => {\r\n\r\n        const requestData = {\r\n            \"method\": \"POST\",\r\n            \"headers\": {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            \"body\": JSON.stringify(data)\r\n        }\r\n\r\n        fetch('/auth/login', requestData)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data.access_token)\r\n            login(data.access_token)\r\n            navigate('/');\r\n        })\r\n        .catch(error => console.error('Error:', error))\r\n\r\n        reset()\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"form\">\r\n                <h1>Login Page</h1>\r\n                <form>\r\n                    <Form.Group>\r\n                        <Form.Label>Username</Form.Label>\r\n                        <Form.Control type=\"text\"\r\n                            placeholder=\"Your Username\"\r\n                            {\r\n                            ...register(\"username\", { required: true, maxLength: 25 })\r\n                            }\r\n                        />\r\n                        {errors.username && <p style={{ color: \"red\" }}><small>Username is required</small></p>}\r\n                        {errors.username?.type === \"maxLength\" && <p style={{ color: \"red\" }}><small>Characters should be 25</small></p>}\r\n                    </Form.Group>\r\n                    <br></br>\r\n                    <Form.Group>\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\"\r\n                            placeholder=\"Your Password\"\r\n                            {\r\n                            ...register(\"password\", { required: true, minLength: 8 })\r\n                            }\r\n                        />\r\n                        {errors.password && <p style={{ color: \"red\" }}><small>Password is required</small></p>}\r\n                        {errors.password?.type === \"minLength\" && <p style={{ color: \"red\" }}><small>Character should be 8</small></p>}\r\n\r\n                    </Form.Group>\r\n                    <br></br>\r\n                    <Form.Group>\r\n                        <Button as=\"sub\" variant=\"primary\" onClick={handleSubmit(loginUser)} >Login</Button>\r\n                    </Form.Group>\r\n                    <br></br>\r\n                    <Form.Group>\r\n                        <small>Do Not have an Account <Link to=\"/signup\">Signup</Link></small>\r\n                    </Form.Group>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginPage"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}