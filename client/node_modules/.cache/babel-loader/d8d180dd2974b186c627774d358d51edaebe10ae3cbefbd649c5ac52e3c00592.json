{"ast":null,"code":"import React,{useEffect}from\"react\";import{Form,Button}from\"react-bootstrap\";import{useForm}from\"react-hook-form\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateRacipePage=()=>{var _errors$title,_errors$description;const nevigate=useNavigate();useEffect(()=>{const token=localStorage.getItem(\"REACT_TOKEN_AUTH_KEY\");if(!token){nevigate('/');}});const{register,handleSubmit,reset,formState:{errors}}=useForm();const submitData=data=>{console.log(data);const token=localStorage.getItem(\"REACT_TOKEN_AUTH_KEY\");const requestData={\"method\":\"POST\",\"headers\":{\"Content-Type\":\"application/json\",\"Authorization\":`Bearer ${JSON.parse(token)}`},\"body\":JSON.stringify(data)};fetch('/recipe/recipes',requestData).then(response=>response.json()).then(data=>{console.log(data);}).catch(error=>console.error('Error:',error));reset();};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Recipe\"}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter recipe name\",...register(\"title\",{required:true,maxLength:100})}),errors.title&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:\"Title is required\"}),((_errors$title=errors.title)===null||_errors$title===void 0?void 0:_errors$title.type)===\"maxLength\"&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:\"100 character allowed\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,placeholder:\"Enter recipe description\",...register(\"description\",{required:true,maxLength:500})}),errors.description&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:\"Description is required\"}),((_errors$description=errors.description)===null||_errors$description===void 0?void 0:_errors$description.type)===\"maxLength\"&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:\"500 characters are allowed\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleSubmit(submitData),children:\"Save\"})})]})]});};export default CreateRacipePage;","map":{"version":3,"names":["React","useEffect","Form","Button","useForm","useNavigate","jsx","_jsx","jsxs","_jsxs","CreateRacipePage","_errors$title","_errors$description","nevigate","token","localStorage","getItem","register","handleSubmit","reset","formState","errors","submitData","data","console","log","requestData","JSON","parse","stringify","fetch","then","response","json","catch","error","className","children","Group","Label","Control","type","placeholder","required","maxLength","title","style","color","as","rows","description","variant","onClick"],"sources":["C:/Users/Hitesh/OneDrive/Desktop/React-Flask/client/src/components/CreateRecipe.js"],"sourcesContent":["import React, {useEffect} from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nconst CreateRacipePage = () => {\r\n    const nevigate = useNavigate()\r\n\r\n    useEffect(\r\n        () => {\r\n            const token = localStorage.getItem(\"REACT_TOKEN_AUTH_KEY\")\r\n            if (!token) {\r\n                nevigate('/')\r\n            }\r\n        }\r\n    )\r\n\r\n    const { register, handleSubmit, reset, formState:{errors} } = useForm();\r\n\r\n    const submitData = (data) => {\r\n        console.log(data);\r\n\r\n        const token = localStorage.getItem(\"REACT_TOKEN_AUTH_KEY\")\r\n        \r\n        const requestData = {\r\n            \"method\": \"POST\",\r\n            \"headers\":{\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": `Bearer ${JSON.parse(token)}`,\r\n            },\r\n            \"body\": JSON.stringify(data),\r\n        } \r\n\r\n        fetch('/recipe/recipes', requestData)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data);\r\n        })\r\n        .catch(error => console.error('Error:', error))\r\n        reset()\r\n    }\r\n\r\n    return(\r\n        <div className=\"container\">\r\n            <h1>Create Recipe</h1>\r\n            <Form>\r\n                <Form.Group>\r\n                    <Form.Label>Title</Form.Label>\r\n                    <Form.Control type=\"text\" placeholder=\"Enter recipe name\" \r\n                    {\r\n                        ...register(\"title\", {required:true,maxLength:100})\r\n                    }\r\n                    />\r\n                    {errors.title && <p style={{color:\"red\"}}>Title is required</p>}\r\n                    {errors.title?.type === \"maxLength\" && <p style={{color:\"red\"}}>100 character allowed</p>}\r\n                    \r\n                </Form.Group>\r\n                <br></br>\r\n                <Form.Group>\r\n                    <Form.Label>Description</Form.Label>\r\n                    <Form.Control as=\"textarea\" rows={3} placeholder=\"Enter recipe description\" \r\n                    {\r\n                        ...register(\"description\", {required:true,maxLength:500})\r\n                    }\r\n                    />\r\n                    {errors.description && <p style={{color:\"red\"}}>Description is required</p>}\r\n                    {errors.description?.type === \"maxLength\" && <p style={{color:\"red\"}}>500 characters are allowed</p>}\r\n                </Form.Group>\r\n                <br></br>\r\n                <Form.Group>\r\n                    <Button variant=\"primary\" onClick={handleSubmit(submitData)} >Save</Button>\r\n                </Form.Group>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateRacipePage"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}